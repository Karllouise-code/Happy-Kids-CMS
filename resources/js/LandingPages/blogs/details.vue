<template>
    <div>
        <section class="page-header">
            <div class="page-header__bg" style="background-image: url(..//public/front/assets/images/backgrounds/page-header-1-1.jpg)"></div>
            <!-- /.page-header__bg -->
            <div class="container">
                <h2>Story Title</h2>
                <ul class="thm-breadcrumb list-unstyled dynamic-radius">
                    <li><a href="index.html">Home</a></li>
                    <li>-</li>
                    <li><span>Stories</span></li>
                </ul>
                <!-- /.thm-breadcrumb list-unstyled -->
            </div>
            <!-- /.container -->
        </section>
        <!-- /.page-header -->

        <section class="blog-details pt-120 pb-40">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 col-lg-8">
                        <div class="blog-card__image">
                            <img src="/public/front/assets/images/blog/blog-d-1-1.jpg" alt="" />
                            <div class="blog-card__date">20 May</div>
                            <!-- /.blog-card__date -->
                        </div>
                        <!-- /.blog-card__image -->
                        <div class="blog-card__meta d-flex justify-content-start mt-0 mb-0">
                            <a href="news-details.html"><i class="far fa-user-circle"></i> Admin</a>
                            <a href="news-details.html"><i class="far fa-comments"></i> 2 Comments</a>
                        </div>
                        <!-- /.blog-card__meta -->
                        <h3>Our donation is hope for poor childrens</h3>
                        <p>
                            There are many variations of passages of available but majority have alteration in some by inject humour or random words. There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem
                            Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which
                            looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.
                        </p>
                        <p>
                            There are many variations of passages of available but majority have alteration in some by inject humour or random words. There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem
                            Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which
                            looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.
                        </p>
                        <div class="blog-details__meta">
                            <ul class="list-unstyled blog-details__category">
                                <li><span>Tags:</span></li>
                                <li><a href="#">charity</a></li>
                                <li><a href="#">donations</a></li>
                                <li><a href="#">savelives</a></li>
                            </ul>
                            <!-- /.list-unstyled blog-details__category -->
                            <ul class="list-unstyled blog-details__category">
                                <li><span>Category:</span></li>
                                <li><a href="#">charity</a></li>
                                <li><a href="#">childrens</a></li>
                            </ul>
                            <!-- /.list-unstyled blog-details__category -->
                        </div>
                        <!-- /.blog-details__meta -->
                        <div class="blog-navigations">
                            <a href="#">Our donation is hope for poor childrens</a>
                            <a href="#">Fundrising for Early Childhood Rise</a>
                        </div>
                    </div>
                    <!-- /.blog-navigations -->
                    <!-- /.col-md-12 -->
                    <div class="col-md-12 col-lg-4">
                        <div class="blog-sidebar">
                            <div class="blog-sidebar__single m-0">
                                <h3>Latest Posts</h3>
                                <ul class="list-unstyled blog-sidebar__post">
                                    <li>
                                        <img src="//public/front/assets/images/blog/blog-s-1.jpg" alt="" />
                                        <h3><a href="news-details.html">Our donation is hope for poor childrens</a></h3>
                                    </li>
                                    <li>
                                        <img src="//public/front/assets/images/blog/blog-s-2.jpg" alt="" />
                                        <h3><a href="news-details.html">Promoting The Rights of Children</a></h3>
                                    </li>
                                    <li>
                                        <img src="//public/front/assets/images/blog/blog-s-3.jpg" alt="" />
                                        <h3><a href="news-details.html">Growing Up Children in Charity Care</a></h3>
                                    </li>
                                </ul>
                                <!-- /.blog-sidebar__post -->
                            </div>
                            <!-- /.blog-sidebar__single -->
                            <div class="blog-sidebar__single">
                                <h3>Categories</h3>
                                <ul class="list-unstyled blog-sidebar__category">
                                    <li><a href="#">Charity</a></li>
                                    <li><a href="#">Fundraising</a></li>
                                    <li><a href="#">Donations</a></li>
                                    <li><a href="#">Health</a></li>
                                    <li><a href="#">Save Lives</a></li>
                                    <li><a href="#">Clean Water</a></li>
                                </ul>
                                <!-- /.blog-sidebar__category -->
                            </div>
                            <!-- /.blog-sidebar__single -->
                            <div class="blog-sidebar__single">
                                <h3>Tags</h3>
                                <ul class="list-unstyled blog-sidebar__tags">
                                    <li><a href="#">Charity</a></li>
                                    <li><a href="#">donations</a></li>
                                    <li><a href="#">savelives</a></li>
                                    <li><a href="#">education</a></li>
                                    <li><a href="#">poorpeople</a></li>
                                    <li><a href="#">health</a></li>
                                    <li><a href="#">cleanwater</a></li>
                                </ul>
                                <!-- /.blog-sidebar__category -->
                            </div>
                            <!-- /.blog-sidebar__single -->
                            <div class="blog-sidebar__single">
                                <h3>Comments</h3>
                                <ul class="blog-sidebar__comments">
                                    <li><a href="#">A Wordpress Commenter on Launch New Mobile App</a></li>
                                    <li><a href="#">John Doe on Template: Comments</a></li>
                                    <li><a href="#">A Wordpress Commenter on Launch New Mobile App</a></li>
                                    <li><a href="#">John Doe on Template: Comments</a></li>
                                </ul>
                                <!-- /.blog-sidebar__comments -->
                            </div>
                            <!-- /.blog-sidebar__single -->
                        </div>
                        <!-- /.blog-sidebar -->
                    </div>
                    <!-- /.col-md-12 -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.container -->
        </section>
        <!-- /.blog-details -->
    </div>
</template>
<script>
export default {
    data() {
        return {
            is_calling_api: false,
            blogs: {},
            popular_blogs: [],
            blog_category: [],
            related_blogs: [],
            pages: {},
            author: {},
            minutes_read: "",
            author_profile_icon: "",
            slug: this.$route.params.slug,
        };
    },
    created() {
        this.onPopulateData();
    },
    methods: {
        redirectToBlog(slug) {
            this.$router.push("/blogs/" + slug);
        },
        onPopulateData() {
            this.is_calling_api = true;

            this.$front_queries("display_data", {
                action_type: "display_by_blogs_slug",
                slug: this.slug,
            })
                .then((res) => {
                    console.log(res);
                    let response = res.data.data.front;
                    this.pages = response.page;
                    this.is_calling_api = false;
                    this.blogs = response.single_blog;
                    this.popular_blogs = response.blogs;
                })
                .catch((err) => {
                    this.$swal("Error!", this.global_error_message, "error");
                });
        },
    },
    metaInfo() {
        return {
            title: this.blogs && this.blogs.meta ? this.blogs.meta.title : "",
            meta: [
                { vmid: "description", name: "description", content: this.blogs && this.blogs.meta ? this.blogs.meta.description : "" },
                { vmid: "keywords", name: "keywords", content: this.blogs && this.blogs.meta ? this.blogs.meta.keywords : "" },
                { vmid: "og:title", name: "og:title", content: this.blogs && this.blogs.meta ? this.blogs.meta.title : "" },
                { vmid: "og:description", name: "og:description", content: this.blogs && this.blogs.meta ? this.blogs.meta.description : "" },
            ],
        };
    },
    watch: {
        slug(val) {
            if (val) {
                this.onPopulateData();
            }
        },
    },
};
</script>
